Crashing

Crash2.stm without Spike2 100rpt expts. crahses July 11 2014
seems not when using leantest, but double check this
Crash2.stm just free running trials does not crash for 24 hours.
Crash2 4000 trials per expt: Crashes near end of second lap
Crash2 10000 trials per expt. Crashes after 3831 in first expt
Crash2 leantest when PRESTIM is bypassed and RunExptStim is in testloop. Crashes after 4578 trials

Including different states. Best done by setting state after WAIT_FOR RESPONSE
Crash2 testloop is 1->2  2->3 459->12 12->1  crash after 6500

WAIT_FOR_RESPONSE -> PRESTIM
                459/12-> 459/12 does not crash
WAIT_FOR_RESPONSE -> INTERTRIAL
		 1/1 1/2 2/3 459/12  Does crash, but only after 38854 stims
WAIT_FOR_RESPONSE -> POSTTRIAL
		  1/1 1/2 2/3 459/12 12/1 crash after 9792, 1343

WAIT_FOR_RESPONSE -> POSTTRIAL
		  1/2 2/3 459/12 1/2 crash after 9792, 1343

WAIT_FOR_RESPONSE -> INTERTRIAL
Add Postrial commands WAIR_FOR_RESPONSE in test loop crash after 1396
cut these out again with if(crasher) goes 35000
1/1 1/2 2/3 459/12 1/1

with crasher = 3 did 12k before I stopped it
with carhser = 2 14k then I stopped 
crahser = 1(reopen pipe)   33k, then crash
same, but move SendTrialCount line, crashes at 4k
using SendTestCoutn, sith call t statusline removed 13k
      		     remove rest of fcn 30k wihtout crash
		     simple text, show message (crasher =2)  30k without crash
		     crasher = 3 crashes at 4k. Included call to StimulusDuration. Crasher & 8 added after this
		     crasher = 10 (aeverything except 4) I stopped after 20k
		     crahser = 31. Crahses after 11k
		     =15 (everything except iptr++)  crashes after 1300 trials!!
		     27 crashes after 5k sprintf mssg fixed
		     =10 crashed at 33k (two days).  Second run stopped at 6k
		     =2 crased after 2k, (at home) and = 0 crashes at home. 
		     =31 crasehd afte 13k
		     =15 still running after 8k


Crasher in teststate part of event loop at home, were 0 in ShowTest crashes
	=7 goes one data
	= 15  goes overnight. crhasher in Showtest was 0
	=15 with31 in showtest: crash after 695
	 = 15 with 2 crashes after 560
	 15 with 0  goes 33k
	 15 / 2 again goes 33k
	        repeat 3k
		identical code 30k, 4k
	15/0  14k, 11k, 33k
	5/0   13k, 1.4k
	1/0   30k
	0/0  3k
above was all setting stimstate to INTERTRIAL in WAIT_FOR_RESPONSE
Set stimstate to PRESTIMULUS at end of WAIT_FOR_RERPONSE. (460/12)  Does 55k no error. 39k no error
    	      	 INTERTRIAL crash at 42k
		 PREFIXATION  crash at 7.1k (460/12 2/3)
stimstate set to PREFIXATION. Crahser in Prefixation
	  31 (ony 1 & 2 do anything when not check fix) 4.4k
had to modify a little to make sreu stimtae ->PRESIM for crasher = 0; then
       	   0 stopped at 28.7k
	   2 crash at 14k
 	  1 crash at 25k. Stopped after 39k
	  2 , with StartTrial commented out crash at 18
	  2 with StartTrial amd memcpy commented out. 29k. But this really is same as 0!!
	  0 again  41k
	  2 with all lines 3.2k
	  


POSTTRIAL 12
POSTSTIMINTRIAL 13
INTERTRIAL 1
PREFIXATION 2
PRESTIMULUS 3
INSTIMULUS 4
POSTSTIMULUS 5
WAIT_FOR_RESPONSE 459
